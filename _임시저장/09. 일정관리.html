<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CertMatch - ÏùºÏ†ïÍ¥ÄÎ¶¨</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .app-content {
            padding: 20px;
            padding-bottom: 80px;
        }

        /* Calendar View Toggle */
        .view-toggle {
            display: flex;
            align-items: center;
            background-color: white;
            border-radius: 10px;
            padding: 5px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .view-option {
            flex: 1;
            padding: 10px;
            text-align: center;
            border: none;
            background: none;
            font-size: 14px;
            cursor: pointer;
            border-radius: 5px;
            color: #666;
            margin-right: 5px;
        }
        .view-option.active {
            background-color: #5c7cfa;
            color: white;
        }

        .add-event-btn-top {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
            margin-left: auto;
        }

        .add-event-btn-top:hover {
            background-color: #218838;
        }

        .add-event-btn-top i {
            margin-right: 4px;
        }

        /* Calendar Container */
        .calendar-container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            overflow: visible;
        }
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        .calendar-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
        }
        .calendar-nav {
            display: flex;
            gap: 10px;
        }
        .calendar-nav button {
            background: none;
            border: none;
            color: #5c7cfa;
            font-size: 16px;
            cursor: pointer;
            padding: 5px;
        }

        /* Month View Calendar */
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            overflow: visible;
        }
        .calendar-day-header {
            text-align: center;
            font-weight: bold;
            font-size: 16px;
            padding: 10px 0;
            color: #666;
            position: relative;
        }
        /* Ïò§Îäò Ïª¨Îüº Ï†ÑÏ≤¥ ÏòÖÏùÄ Î∞∞Í≤Ω Í∞ïÏ°∞ (Ìó§Îçî Î∞è Î≥∏Î¨∏ Ïª¨Îüº) */
        .calendar-day-header.is-today-col {
            background: #eef7ff;
            border-radius: 8px;
        }
        .week-day-column.is-today-col {
            background: #f7faff;
        }
        /* Ï£ºÌÉ≠ ÏöîÏùº ÏïÑÎûòÏóê ÏùºÏûê(ÎÇ†Ïßú) ÌëúÏãú Ïä§ÌÉÄÏùº */
        .calendar-day-header .header-date {
            display: block;
            margin: 4px auto 0;
            padding: 2px 8px;
            font-size: 12px;
            color: #666;
            background: #eef7ff;
            border-radius: 10px;
        }
        /* Ï£ºÌÉ≠ÏóêÏÑú Ïò§Îäò ÎÇ†Ïßú ÌäπÎ≥Ñ Ïä§ÌÉÄÏùº */
        .calendar-day-header .header-date.today-date {
            color: white;
            background: #5c7cfa;
            font-weight: bold;
        }
        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            padding: 5px;
            border-radius: 5px;
            cursor: pointer;
            position: relative;
            min-height: 80px;
        }
        .calendar-day:hover {
            background-color: #f1f3f4;
        }
        .calendar-day.other-month {
            color: #ccc;
        }
        .calendar-day.has-event {
            background-color: #f8f9fa;
        }
        .day-number {
            font-size: 14px;
            margin-bottom: 5px;
        }
        .event-dots {
            display: flex;
            gap: 3px;
            margin-top: 5px;
            justify-content: center;
        }
        .event-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
        }
        .event-dot.audit { background-color: #4c6ef5; }
        .event-dot.education { background-color: #28a745; }
        .event-dot.consulting { background-color: #ffc107; }
        .event-dot.deadline { background-color: #74c0fc; }

        /* Event Bars and Lines - Modified for vertical stacking */
        .calendar-day {
            position: relative;
        }

        .event-bar-container {
            position: absolute;
            top: 25px;
            left: 2px;
            right: 2px;
            z-index: 1;
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .event-bar {
            height: 16px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 9px;
            font-weight: bold;
            color: white;
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
            padding: 0 4px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
            flex-shrink: 0;
        }

        .event-bar:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 6px rgba(0,0,0,0.3);
            z-index: 10;
        }

        .event-bar.audit {
            background: linear-gradient(135deg, #4c6ef5, #364fc7);
            border: 1px solid #364fc7;
        }

        .event-bar.education {
            background: linear-gradient(135deg, #28a745, #1e7e34);
            border: 1px solid #1e7e34;
        }

        .event-bar.consulting {
            background: linear-gradient(135deg, #ffc107, #e0a800);
            border: 1px solid #e0a800;
        }

        .event-bar.deadline {
            background: linear-gradient(135deg, #74c0fc, #4c6ef5);
            border: 1px solid #4c6ef5;
        }

        /* Multi-day event line connector */
        .event-connector {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, #4c6ef5, #364fc7);
            top: 29px;
            z-index: 0;
            border-radius: 1px;
        }

        .event-connector.education {
            background: linear-gradient(90deg, #28a745, #1e7e34);
        }

        .event-connector.consulting {
            background: linear-gradient(90deg, #ffc107, #e0a800);
        }

        .event-connector.deadline {
            background: linear-gradient(90deg, #74c0fc, #4c6ef5);
        }

        /* Adjust day number to avoid overlap */
        .calendar-day.has-event-bar .day-number {
            margin-bottom: 5px;
        }

        /* Today indicator styles */
        .today-indicator {
            position: absolute;
            top: 65px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #74c0fc;
            color: white;
            font-size: 9px;
            font-weight: bold;
            padding: 2px 6px;
            border-radius: 8px;
            z-index: 2;
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }

        .calendar-day.has-event-bar .today-indicator {
            top: auto;
            bottom: 5px;
        }

        /* Enhanced today styling */
        .calendar-day.today {
            background-color: #eef7ff;
            border: 2px solid #5c7cfa;
            color: #5c7cfa;
            font-weight: bold;
            position: relative;
        }

        .calendar-day.today:hover {
            background-color: #dbeafe;
        }

        /* Week View Calendar */
        .week-view {
            display: none;
        }
        .week-grid {
            display: grid;
            grid-template-columns: 56px repeat(7, 1fr);
            gap: 5px;
        }

        /* Ensure proper grid placement for week view */
        .week-grid .time-slot {
            grid-column: 1;
            grid-row: auto;
        }

        .week-grid .calendar-day-header {
            grid-column: auto;
            grid-row: 1;
        }

        .week-grid .week-day-column {
            grid-column: auto;
            grid-row: auto;
        }

        /* Multi-day event spanning multiple columns */
        .week-event-multi-day-container {
            grid-column: span 2;
            position: relative;
        }
        .time-slot {
            padding: 6px 2px;
            text-align: center;
            font-size: 12px;
            color: #666;
            border-right: 1px solid #eee;
        }
        .week-day-column {
            border-bottom: 1px solid #eee;
            min-height: 60px;
        }

        /* Week event styling */
        .week-event {
            background-color: #eef7ff;
            border-left: 3px solid #4c6ef5;
            color: #333;
            font-weight: 500;
            padding: 4px 6px;
            margin: 2px;
            font-size: 10px;
            border-radius: 3px;
            text-align: center;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .week-event.education {
            background-color: #f0f9f0;
            border-left-color: #28a745;
        }

        .week-event.consulting {
            background-color: #fef9e7;
            border-left-color: #ffc107;
        }

        .week-event.deadline {
            background-color: #e7f5ff;
            border-left-color: #74c0fc;
        }

        /* Week event container for multi-day events */
        .week-event-container {
            position: relative;
        }

        /* Enhanced multi-day event positioning */
        .week-event-multi-day-container {
            position: absolute;
            top: 2px;
            left: 0;
            right: 0;
            height: 30px;
            z-index: 10;
            display: flex;
            align-items: center;
        }

        .week-event-multi-day-container.two-day {
            /* Span across two days - needs to be handled at grid level */
        }

        /* Multi-day week event styling */
        .week-event-multi-day {
            background: linear-gradient(135deg, #4c6ef5, #364fc7);
            color: white;
            font-weight: bold;
            border-radius: 6px;
            margin: 2px 0;
            padding: 8px 10px;
            font-size: 11px;
            box-shadow: 0 3px 6px rgba(0,0,0,0.15);
            border: 1px solid #364fc7;
            text-align: center;
            position: relative;
            z-index: 10;
        }

        .week-event-multi-day::before {
            content: "üìÖ";
            margin-right: 6px;
            font-size: 10px;
        }

        .week-event-multi-day::after {
            content: "2ÏùºÍ∞Ñ";
            position: absolute;
            top: -8px;
            right: 4px;
            background: #74c0fc;
            color: white;
            font-size: 8px;
            padding: 2px 4px;
            border-radius: 4px;
            font-weight: normal;
        }

        /* Dynamic override: use data attribute for span label when present */
        .week-event-multi-day.dynamic::after {
            content: attr(data-span-label);
        }

        .week-event-multi-day.education {
            background: linear-gradient(135deg, #28a745, #1e7e34);
            border-color: #1e7e34;
        }

        .week-event-multi-day.education::before {
            content: "üéì";
        }

        .week-event-multi-day.consulting {
            background: linear-gradient(135deg, #ffc107, #e0a800);
            border-color: #e0a800;
        }

        .week-event-multi-day.consulting::before {
            content: "üíº";
        }

        .week-event-multi-day.deadline {
            background: linear-gradient(135deg, #74c0fc, #4c6ef5);
            border-color: #4c6ef5;
        }

        .week-event-multi-day.deadline::before {
            content: "‚è∞";
        }

        /* Ï£ºÌÉ≠ ÏùºÏ†ï Ï†úÎ™© Ïïû ÏïÑÏù¥ÏΩò Ï†úÍ±∞ */
        .week-event::before,
        .week-event-multi-day::before,
        .week-event-multi-day.education::before,
        .week-event-multi-day.consulting::before,
        .week-event-multi-day.deadline::before {
            content: none !important;
            display: none !important;
        }

        /* Day View Calendar */
        .day-view {
            display: none;
        }
        .day-grid {
            display: grid;
            grid-template-columns: 80px 1fr;
            gap: 5px;
        }
        .day-header {
            padding: 10px 15px;
            background: #eef7ff;
            border-radius: 8px;
            margin-bottom: 15px;
            text-align: center;
            font-weight: bold;
            color: #5c7cfa;
        }
        .day-event {
            background-color: #eef7ff;
            border-left: 3px solid #4c6ef5;
            padding: 10px;
            margin: 5px 0;
            border-radius: 3px;
        }
        .day-event.deadline {
            background-color: #e7f5ff;
            border-left-color: #74c0fc;
        }
        .day-event-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .day-event-time {
            font-size: 12px;
            color: #666;
        }

        /* Event List */
        .event-list {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .event-list-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        .event-list-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
        }
        .add-event-btn {
            background-color: #5c7cfa;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            font-size: 14px;
            cursor: pointer;
        }
        .event-item {
            display: flex;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }
        .event-item:last-child {
            border-bottom: none;
        }
        .event-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 15px;
        }
        .event-color.audit { background-color: #4c6ef5; }
        .event-color.education { background-color: #28a745; }
        .event-color.consulting { background-color: #ffc107; }
        .event-color.deadline { background-color: #74c0fc; }
        .event-info {
            flex-grow: 1;
        }
        .event-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .event-meta {
            font-size: 14px;
            color: #666;
        }

        /* Color Legend */
        .color-legend {
            background-color: white;
            border-radius: 10px;
            padding: 15px 20px;
            margin-top: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .legend-title {
            font-size: 14px;
            font-weight: bold;
            color: #333;
            margin-bottom: 12px;
            text-align: center;
        }
        .legend-items {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }
        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .legend-color.audit { background-color: #4c6ef5; }
        .legend-color.education { background-color: #28a745; }
        .legend-color.consulting { background-color: #ffc107; }
        .legend-color.deadline { background-color: #74c0fc; }
        .legend-text {
            font-size: 13px;
            color: #555;
        }

        /* Settings Section */
        .settings-section {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .settings-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
        }
        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }
        .setting-item:last-child {
            border-bottom: none;
        }
        .setting-label {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .setting-label i {
            color: #5c7cfa;
        }
        .setting-label.education i {
            color: #28a745;
        }
        .setting-label.recruitment i {
            color: #ff7a45;
        }
        .setting-label.important i {
            color: #74c0fc;
        }
        .toggle-switch {
            position: relative;
            width: 50px;
            height: 26px;
            background-color: #ccc;
            border-radius: 13px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .toggle-switch.active {
            background-color: #5c7cfa;
        }
        .toggle-switch::after {
            content: '';
            position: absolute;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background-color: white;
            top: 2px;
            left: 2px;
            transition: transform 0.3s;
        }
        .toggle-switch.active::after {
            transform: translateX(24px);
        }
        /* Add Event Modal Styles */
        .modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.35);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 16px;
        }
        .modal-content {
            background: #fff;
            width: 100%;
            max-width: 560px;
            border-radius: 10px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        .modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 14px 18px;
            border-bottom: 1px solid #eee;
            background: #fafbff;
        }
        .modal-header h3 {
            margin: 0;
            font-size: 18px;
            font-weight: 700;
            color: #333;
        }
        .close-btn {
            background: none;
            border: none;
            font-size: 22px;
            color: #999;
            cursor: pointer;
            padding: 4px;
            line-height: 1;
            transition: color 0.2s ease;
        }
        .close-btn:hover { color: #333; }
        .modal-body {
            padding: 16px 18px;
            max-height: 60vh;
            overflow-y: auto;
        }
        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 8px;
            padding: 12px 18px;
            border-top: 1px solid #eee;
            background: #f9f9fb;
        }
        /* Form styles inside modal */
        .form-group { margin-bottom: 12px; }
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }
        .form-label {
            display: block;
            font-size: 13px;
            color: #555;
            margin-bottom: 6px;
        }
        .form-control {
            width: 100%;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 8px 10px;
            font-size: 14px;
            outline: none;
            background: #fff;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }
        .form-control:focus {
            border-color: #5c7cfa;
            box-shadow: 0 0 0 3px rgba(92, 124, 250, 0.15);
        }
        /* Action buttons inside modal */
        .btn {
            padding: 8px 14px;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            border: none;
        }
        .btn-primary {
            background: #5c7cfa;
            color: #fff;
        }
        .btn-primary:hover { background: #4c6ef5; }
        .btn-secondary {
            background: #eee;
            color: #333;
        }
        .btn-secondary:hover { background: #e0e0e0; }

        /* Î™®Î∞îÏùº Ïª¥Ìå©Ìä∏ Î™®Îìú Ïò§Î≤ÑÎùºÏù¥Îìú */
        @media (max-width: 480px) {
            /* Modal mobile tweaks */
            .modal-content { max-width: 92vw; border-radius: 8px; }
            .modal-header h3 { font-size: 16px; }
            .form-label { font-size: 12px; }
            .form-control { font-size: 13px; padding: 8px; }
            .form-row { gap: 8px; }
            .modal-footer { padding: 10px 14px; }
            .btn { font-size: 13px; padding: 8px 12px; }
            .app-content { padding: 12px; padding-bottom: 60px; }
            .view-toggle { padding: 4px; }
            .view-option { padding: 6px; font-size: 13px; margin-right: 4px; }
            .add-event-btn-top { padding: 6px 10px; font-size: 11px; }

            .calendar-container { padding: 12px; margin-bottom: 12px; border-radius: 8px; }
            .calendar-header { margin-bottom: 12px; }
            .calendar-title { font-size: 16px; }
            .calendar-nav button { font-size: 14px; padding: 4px; }

            .calendar-grid { gap: 4px; }
            .calendar-day-header { font-size: 14px; padding: 8px 0; }
            .calendar-day-header .header-date { display: block; margin: 3px auto 0; font-size: 11px; padding: 2px 6px; }
            .calendar-day { padding: 4px; border-radius: 4px; min-height: 70px; }
            .day-number { font-size: 13px; }

            .event-dots { gap: 2px; }
            .event-dot { width: 5px; height: 5px; }
            .event-bar-container { top: 22px; gap: 1px; }
            .event-bar { height: 14px; font-size: 8px; padding: 0 3px; }
            .event-connector { top: 27px; }
            .today-indicator { font-size: 8px; padding: 2px 5px; bottom: 3px; }

            .week-grid { gap: 4px; }
            .week-grid { grid-template-columns: 44px repeat(7, 1fr); }
            .time-slot { font-size: 11px; padding: 4px 2px; text-align: center; }

            .event-list { padding: 16px; margin-bottom: 12px; }
            .event-list-title { font-size: 16px; }
            .event-item { padding: 12px 0; }
            .event-title { font-size: 16px; }
            .event-meta { font-size: 12px; }

            .color-legend { padding: 12px 15px; margin-top: 10px; }
            .legend-title { font-size: 13px; margin-bottom: 10px; }
            .legend-items { gap: 15px; }
            .legend-item { margin-bottom: 6px; }
            .legend-color { width: 10px; height: 10px; }
            .legend-text { font-size: 12px; }

            .settings-section { padding: 16px; margin-bottom: 12px; }
            .settings-title { font-size: 16px; }
            .setting-item { padding: 12px 0; }
        }
    </style>
</head>
<body>
    <!-- App Header -->
    <header class="app-header">
        <div class="header-icon" id="menuToggle">
            <i class="fas fa-bars"></i>
        </div>
        <div class="app-title">ÏùºÏ†ïÍ¥ÄÎ¶¨</div>
        <div class="header-icons">
            <div class="header-icon">
                <i class="fas fa-bell"></i>
                <span class="notification-badge">3</span>
            </div>
            <div class="header-icon">
                <i class="fas fa-user-circle"></i>
            </div>
        </div>
    </header>

    <!-- App Content -->
    <div class="app-content">
        <!-- Calendar View Toggle -->
        <div class="view-toggle">
            <button class="view-option active" onclick="showCalendarView('month')">Ïõî</button>
            <button class="view-option" onclick="showCalendarView('week')">Ï£º</button>
            <button class="view-option" onclick="showCalendarView('day')">Ïùº</button>
            <button class="add-event-btn-top" onclick="showAddEventModal()">
                <i class="fas fa-plus"></i> ÏùºÏ†ï Ï∂îÍ∞Ä
            </button>
        </div>

        <!-- Calendar Container -->
        <div class="calendar-container">
            <div class="calendar-header">
                <div class="calendar-title">2024ÎÖÑ 2Ïõî</div>
                <div class="calendar-nav">
                    <button><i class="fas fa-chevron-left"></i></button>
                    <button><i class="fas fa-chevron-right"></i></button>
                    <button><i class="fas fa-calendar-alt"></i></button>
                </div>
            </div>

            <!-- Month View Calendar -->
            <div id="monthView" class="month-view">
                <div class="calendar-grid">
                    <div class="calendar-day-header">Ïùº</div>
                    <div class="calendar-day-header">Ïõî</div>
                    <div class="calendar-day-header">Ìôî</div>
                    <div class="calendar-day-header">Ïàò</div>
                    <div class="calendar-day-header">Î™©</div>
                    <div class="calendar-day-header">Í∏à</div>
                    <div class="calendar-day-header">ÌÜ†</div>
                    
                    <!-- Previous month days -->
                    <div class="calendar-day other-month">
                        <div class="day-number">28</div>
                    </div>
                    <div class="calendar-day other-month">
                        <div class="day-number">29</div>
                    </div>
                    <div class="calendar-day other-month">
                        <div class="day-number">30</div>
                    </div>
                    <div class="calendar-day other-month">
                        <div class="day-number">31</div>
                    </div>
                    
                    <!-- Current month days -->
                    <div class="calendar-day">
                        <div class="day-number">1</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-number">2</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-number">3</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-number">4</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-number">5</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-number">6</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-number">7</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-number">8</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-number">9</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-number">10</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-number">11</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-number">12</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-number">13</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-number">14</div>
                    </div>
                    <div class="calendar-day has-event-bar" data-day="15" data-event-start="15" data-event-end="16" data-event-type="audit" data-event-title="ISMS-P Ïã¨ÏÇ¨">
                        <div class="day-number">15</div>
                        <div class="event-bar-container">
                            <div class="event-bar audit" style="left: 0%; width: 100%;">ISMS-P Ïã¨ÏÇ¨</div>
                        </div>
                    </div>
                    <div class="calendar-day has-event-bar" data-day="16" data-event-start="16" data-event-end="16" data-event-type="audit" data-event-title="ISMS-P Ïã¨ÏÇ¨(2ÏùºÏ∞®)">
                        <div class="day-number">16</div>
                        <div class="event-bar-container">
                            <div class="event-bar audit" style="left: 0%; width: 100%;">ISMS-P Ïã¨ÏÇ¨(2ÏùºÏ∞®)</div>
                        </div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-number">17</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-number">18</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-number">19</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-number">20</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-number">21</div>
                    </div>
                    <div class="calendar-day has-event-bar" data-day="22" data-event-start="22" data-event-end="22" data-event-type="education" data-event-title="ISMS-P ÍµêÏú°">
                        <div class="day-number">22</div>
                        <div class="event-bar-container">
                            <div class="event-bar education" style="left: 0%; width: 100%;">ISMS-P ÍµêÏú°</div>
                        </div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-number">23</div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-number">24</div>
                    </div>
                    <div class="calendar-day has-event-bar" data-day="25" data-event-start="25" data-event-end="26" data-event-type="consulting" data-event-title="AÏùÄÌñâ Ïª®ÏÑ§ÌåÖ">
                        <div class="day-number">25</div>
                        <div class="event-bar-container">
                            <div class="event-bar consulting" style="left: 0%; width: 100%;">AÏùÄÌñâ Ïª®ÏÑ§ÌåÖ</div>
                        </div>
                    </div>
                    <div class="calendar-day has-event-bar" data-day="26" data-event-start="26" data-event-end="26" data-event-type="consulting" data-event-title="AÏùÄÌñâ Ïª®ÏÑ§ÌåÖ(2ÏùºÏ∞®)">
                        <div class="day-number">26</div>
                        <div class="event-bar-container">
                            <div class="event-bar consulting" style="left: 0%; width: 100%;">AÏùÄÌñâ Ïª®ÏÑ§ÌåÖ(2ÏùºÏ∞®)</div>
                        </div>
                    </div>
                    <div class="calendar-day">
                        <div class="day-number">27</div>
                    </div>
                    <div class="calendar-day has-event-bar" data-day="28" data-event-start="28" data-event-end="29" data-event-type="audit" data-event-title="ISO 27001 Ïã¨ÏÇ¨">
                        <div class="day-number">28</div>
                        <div class="event-bar-container">
                            <div class="event-bar audit" style="left: 0%; width: 100%;">ISO 27001 Ïã¨ÏÇ¨</div>
                        </div>
                    </div>
                    <div class="calendar-day has-event-bar" data-day="29" data-event-start="29" data-event-end="29" data-event-type="audit" data-event-title="ISO 27001 Ïã¨ÏÇ¨(2ÏùºÏ∞®)">
                        <div class="day-number">29</div>
                        <div class="event-bar-container">
                            <div class="event-bar audit" style="left: 0%; width: 100%;">ISO 27001 Ïã¨ÏÇ¨(2ÏùºÏ∞®)</div>
                        </div>
                    </div>
                    <!-- Next month days -->
                    <div class="calendar-day other-month">
                        <div class="day-number">1</div>
                    </div>
                    <div class="calendar-day other-month">
                        <div class="day-number">2</div>
                    </div>
                    <div class="calendar-day other-month">
                        <div class="day-number">3</div>
                    </div>
                </div>
            </div>

            <!-- Week View Calendar -->
            <div id="weekView" class="week-view">
                <div class="week-grid">
                    <!-- Header Row -->
                    <div class="time-slot" style="grid-row: 1;"></div>
                    <div class="calendar-day-header" style="grid-row: 1;">Ïùº</div>
                    <div class="calendar-day-header" style="grid-row: 1;">Ïõî</div>
                    <div class="calendar-day-header" style="grid-row: 1;">Ìôî</div>
                    <div class="calendar-day-header" style="grid-row: 1;">Ïàò</div>
                    <div class="calendar-day-header" style="grid-row: 1;">Î™©</div>
                    <div class="calendar-day-header" style="grid-row: 1;">Í∏à</div>
                    <div class="calendar-day-header" style="grid-row: 1;">ÌÜ†</div>

                    <!-- 09:00 Row -->
                    <div class="time-slot" style="grid-row: 2;">09:00</div>
                    <div class="week-day-column" style="grid-row: 2;"></div>
                    <div class="week-day-column" style="grid-row: 2;"></div>
                    <div class="week-day-column" style="grid-row: 2;"></div>
                    <div class="week-day-column week-event-multi-day-container" style="grid-row: 2;">
                        <div class="week-event-multi-day">„àúÌÖåÌÅ¨ÏÜîÎ£®ÏÖò ISMS-P Ïã¨ÏÇ¨</div>
                    </div>
                    <div class="week-day-column" style="grid-row: 2;"></div>
                    <div class="week-day-column" style="grid-row: 2;"></div>
                    <div class="week-day-column" style="grid-row: 2;"></div>

                    <!-- 10:00 Row -->
                    <div class="time-slot" style="grid-row: 3;">10:00</div>
                    <div class="week-day-column" style="grid-row: 3;"></div>
                    <div class="week-day-column" style="grid-row: 3;">
                        <div class="week-event">ÌåÄ ÎØ∏ÌåÖ</div>
                    </div>
                    <div class="week-day-column" style="grid-row: 3;"></div>
                    <div class="week-day-column" style="grid-row: 3;"></div>
                    <div class="week-day-column" style="grid-row: 3;"></div>
                    <div class="week-day-column" style="grid-row: 3;"></div>
                    <div class="week-day-column" style="grid-row: 3;"></div>
                    
                    <!-- 11:00 Row -->
                    <div class="time-slot" style="grid-row: 4;">11:00</div>
                    <div class="week-day-column" style="grid-row: 4;"></div>
                    <div class="week-day-column" style="grid-row: 4;"></div>
                    <div class="week-day-column" style="grid-row: 4;"></div>
                    <div class="week-day-column" style="grid-row: 4;"></div>
                    <div class="week-day-column" style="grid-row: 4;"></div>
                    <div class="week-day-column" style="grid-row: 4;"></div>
                    <div class="week-day-column" style="grid-row: 4;"></div>

                    <!-- 12:00 Row -->
                    <div class="time-slot" style="grid-row: 5;">12:00</div>
                    <div class="week-day-column" style="grid-row: 5;"></div>
                    <div class="week-day-column" style="grid-row: 5;"></div>
                    <div class="week-day-column" style="grid-row: 5;"></div>
                    <div class="week-day-column" style="grid-row: 5;"></div>
                    <div class="week-day-column" style="grid-row: 5;"></div>
                    <div class="week-day-column" style="grid-row: 5;"></div>
                    <div class="week-day-column" style="grid-row: 5;"></div>

                    <!-- 13:00 Row -->
                    <div class="time-slot" style="grid-row: 6;">13:00</div>
                    <div class="week-day-column" style="grid-row: 6;"></div>
                    <div class="week-day-column" style="grid-row: 6;"></div>
                    <div class="week-day-column" style="grid-row: 6;"></div>
                    <div class="week-day-column" style="grid-row: 6;"></div>
                    <div class="week-day-column" style="grid-row: 6;"></div>
                    <div class="week-day-column" style="grid-row: 6;"></div>
                    <div class="week-day-column" style="grid-row: 6;"></div>

                    <!-- 14:00 Row -->
                    <div class="time-slot" style="grid-row: 7;">14:00</div>
                    <div class="week-day-column" style="grid-row: 7;"></div>
                    <div class="week-day-column" style="grid-row: 7;"></div>
                    <div class="week-day-column" style="grid-row: 7;">
                        <div class="week-event consulting">AÏùÄÌñâ Ïª®ÏÑ§ÌåÖ</div>
                    </div>
                    <div class="week-day-column" style="grid-row: 7;"></div>
                    <div class="week-day-column" style="grid-row: 7;"></div>
                    <div class="week-day-column" style="grid-row: 7;"></div>
                    <div class="week-day-column" style="grid-row: 7;"></div>

                    <!-- 15:00 Row -->
                    <div class="time-slot" style="grid-row: 8;">15:00</div>
                    <div class="week-day-column" style="grid-row: 8;"></div>
                    <div class="week-day-column" style="grid-row: 8;">
                        <div class="week-event education">ISMS-P ÍµêÏú°</div>
                    </div>
                    <div class="week-day-column" style="grid-row: 8;"></div>
                    <div class="week-day-column" style="grid-row: 8;"></div>
                    <div class="week-day-column" style="grid-row: 8;"></div>
                    <div class="week-day-column" style="grid-row: 8;"></div>
                    <div class="week-day-column" style="grid-row: 8;"></div>

                    <!-- 16:00 Row -->
                    <div class="time-slot" style="grid-row: 9;">16:00</div>
                    <div class="week-day-column" style="grid-row: 9;"></div>
                    <div class="week-day-column" style="grid-row: 9;"></div>
                    <div class="week-day-column" style="grid-row: 9;"></div>
                    <div class="week-day-column" style="grid-row: 9;"></div>
                    <div class="week-day-column" style="grid-row: 9;">
                        <div class="week-event">ÌîÑÎ°úÏ†ùÌä∏ Î¶¨Î∑∞</div>
                    </div>
                    <div class="week-day-column" style="grid-row: 9;"></div>

                    <!-- 17:00 Row -->
                    <div class="time-slot" style="grid-row: 10;">17:00</div>
                    <div class="week-day-column" style="grid-row: 10;"></div>
                    <div class="week-day-column" style="grid-row: 10;"></div>
                    <div class="week-day-column" style="grid-row: 10;"></div>
                    <div class="week-day-column" style="grid-row: 10;"></div>
                    <div class="week-day-column" style="grid-row: 10;"></div>
                    <div class="week-day-column" style="grid-row: 10;"></div>
                    <div class="week-day-column" style="grid-row: 10;"></div>
                    
                    <!-- 18:00 Row -->
                    <div class="time-slot" style="grid-row: 11;">18:00</div>
                    <div class="week-day-column" style="grid-row: 11;"></div>
                    <div class="week-day-column" style="grid-row: 11;"></div>
                    <div class="week-day-column" style="grid-row: 11;"></div>
                    <div class="week-day-column" style="grid-row: 11;"></div>
                    <div class="week-day-column" style="grid-row: 11;"></div>
                    <div class="week-day-column" style="grid-row: 11;"></div>
                    <div class="week-day-column" style="grid-row: 11;"></div>
                </div>
            </div>

            <!-- Day View Calendar -->
            <div id="dayView" class="day-view">
                <div class="day-header" id="todayDate"></div>
                <div class="day-grid">
                    <div class="time-slot">09:00</div>
                    <div class="day-column"></div>
                    
                    <div class="time-slot">10:00</div>
                    <div class="day-column">
                        <div class="day-event">
                            <div class="day-event-title">„àúÌÖåÌÅ¨ÏÜîÎ£®ÏÖò ISMS-P Ïã¨ÏÇ¨</div>
                            <div class="day-event-time">10:00 - 17:00</div>
                        </div>
                    </div>
                    
                    <div class="time-slot">11:00</div>
                    <div class="day-column"></div>
                    
                    <div class="time-slot">12:00</div>
                    <div class="day-column"></div>
                    
                    <div class="time-slot">13:00</div>
                    <div class="day-column"></div>
                    
                    <div class="time-slot">14:00</div>
                    <div class="day-column"></div>
                    
                    <div class="time-slot">15:00</div>
                    <div class="day-column"></div>
                    
                    <div class="time-slot">16:00</div>
                    <div class="day-column"></div>
                    
                    <div class="time-slot">17:00</div>
                    <div class="day-column"></div>
                    
                    <div class="time-slot">18:00</div>
                    <div class="day-column"></div>
                </div>
            </div>
        </div>

        <!-- Event List -->
        <div class="event-list">
            <div class="event-list-header">
                <div class="event-list-title">Ïù¥Î≤àÎã¨ ÏùºÏ†ï</div>
            </div>
            <div id="text-event-list-body"></div>
            
            <!-- Color Legend -->
            <div class="color-legend">
                <div class="legend-title">ÏÉâÏÉÅ Î≤îÎ°Ä</div>
                <div class="legend-items">
                    <div class="legend-item">
                        <div class="legend-color audit"></div>
                        <span class="legend-text">Ïã¨ÏÇ¨ ÏùºÏ†ï</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color education"></div>
                        <span class="legend-text">ÍµêÏú° ÏùºÏ†ï</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color consulting"></div>
                        <span class="legend-text">Ïª®ÏÑ§ÌåÖ ÏùºÏ†ï</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color deadline"></div>
                        <span class="legend-text">ÎßàÍ∞ê ÏùºÏ†ï</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Section -->
        <div class="settings-section">
            <div class="settings-title">ÏùºÏ†ï ÏÑ§Ï†ï</div>

            <div class="setting-item">
                <div class="setting-label">
                    <i class="fas fa-bell"></i>
                    <span>ÏùºÏ†ï ÏïåÎ¶º</span>
                </div>
                <div class="toggle-switch active" onclick="toggleSwitch(this)"></div>
            </div>

            <div class="setting-item">
                <div class="setting-label">
                    <i class="fas fa-share-alt"></i>
                    <span>ÏùºÏ†ï Í≥µÏú†</span>
                </div>
                <div class="toggle-switch" onclick="toggleSwitch(this)"></div>
            </div>

            <div class="setting-item">
                <div class="setting-label">
                    <i class="fab fa-google"></i>
                    <span>Google Calendar Ïó∞Îèô</span>
                </div>
                <div class="toggle-switch" onclick="toggleSwitch(this)"></div>
            </div>

            <!-- Divider for deadline settings -->
            <div style="height: 1px; background: #eee; margin: 10px 0;"></div>

            <!-- Deadline Display Settings -->
            <div class="setting-item">
                <div class="setting-label education">
                    <i class="fas fa-graduation-cap"></i>
                    <span>Î∂ÅÎßàÌÅ¨Ìïú ÍµêÏú° ÎßàÍ∞êÏùºÏ†ï</span>
                </div>
                <div class="toggle-switch active" id="educationToggle" onclick="toggleDeadlineDisplay('education')"></div>
            </div>

            <div class="setting-item">
                <div class="setting-label recruitment">
                    <i class="fas fa-briefcase"></i>
                    <span>Ï±ÑÏö©Í≥µÍ≥† ÎßàÍ∞êÏùº</span>
                </div>
                <div class="toggle-switch active" id="recruitmentToggle" onclick="toggleDeadlineDisplay('recruitment')"></div>
            </div>

            <div class="setting-item">
                <div class="setting-label important">
                    <i class="fas fa-star"></i>
                    <span>Í∏∞ÌÉÄ Ï§ëÏöîÏùºÏ†ï</span>
                </div>
                <div class="toggle-switch active" id="importantToggle" onclick="toggleDeadlineDisplay('important')"></div>
            </div>
        </div>
    </div>
    
    <script>
        // Mock data for deadlines
        const mockDeadlines = [
            {
                id: 1,
                title: "Ï†ïÎ≥¥Î≥¥Ìò∏ ÍµêÏú° Ïã†Ï≤≠",
                type: "education",
                date: "2024-02-05",
                description: "Ï†ïÎ≥¥Î≥¥Ìò∏ Ï†ÑÎ¨∏Í∞Ä Í≥ºÏ†ï ÍµêÏú° Ïã†Ï≤≠ ÎßàÍ∞ê"
            },
            {
                id: 2,
                title: "Î≥¥ÏïàÍ¥ÄÏ†ú Ï±ÑÏö©",
                type: "recruitment",
                date: "2024-02-08",
                description: "Î≥¥ÏïàÍ¥ÄÏ†ú Ï†ÑÎ¨∏Í∞Ä Ï±ÑÏö© Í≥µÍ≥† ÎßàÍ∞ê"
            },
            {
                id: 3,
                title: "Í∞úÏù∏Ï†ïÎ≥¥Î≥¥Ìò∏ ÍµêÏú°",
                type: "education",
                date: "2024-02-12",
                description: "Í∞úÏù∏Ï†ïÎ≥¥Î≥¥Ìò∏ Îã¥ÎãπÏûê ÍµêÏú° Ïã†Ï≤≠ ÎßàÍ∞ê"
            },
            {
                id: 4,
                title: "ISMS Ïù∏Ï¶ù ÏÑúÎ•ò Ï†úÏ∂ú",
                type: "important",
                date: "2024-02-15",
                description: "ISMS Ïù∏Ï¶ù Ïã¨ÏÇ¨ ÏÑúÎ•ò Ï†úÏ∂ú ÎßàÍ∞ê"
            },
            {
                id: 5,
                title: "Î≥¥Ïïà ÏóîÏßÄÎãàÏñ¥ Ï±ÑÏö©",
                type: "recruitment",
                date: "2024-02-18",
                description: "ÏãúÏä§ÌÖú Î≥¥Ïïà ÏóîÏßÄÎãàÏñ¥ Ï±ÑÏö© Í≥µÍ≥† ÎßàÍ∞ê"
            },
            {
                id: 6,
                title: "Ìï¥ÌÇπÎ∞©ÏßÄ ÍµêÏú°",
                type: "education",
                date: "2024-02-22",
                description: "Ïõπ Ìï¥ÌÇπ Î∞©ÏßÄ Ïã§Î¨¥ ÍµêÏú° Ïã†Ï≤≠ ÎßàÍ∞ê"
            },
            {
                id: 7,
                title: "Í∞úÏù∏Ï†ïÎ≥¥ ÏòÅÌñ•ÌèâÍ∞Ä Î≥¥Í≥†ÏÑú",
                type: "important",
                date: "2024-02-25",
                description: "Í∞úÏù∏Ï†ïÎ≥¥ ÏòÅÌñ•ÌèâÍ∞Ä Î≥¥Í≥†ÏÑú Ï†úÏ∂ú ÎßàÍ∞ê"
            },
            {
                id: 8,
                title: "Ï†ïÎ≥¥Î≥¥Ìò∏ Ï±ÑÏö© Î∞ïÎûåÌöå",
                type: "recruitment",
                date: "2024-02-28",
                description: "Ï†ïÎ≥¥Î≥¥Ìò∏ Î∂ÑÏïº Ï±ÑÏö© Î∞ïÎûåÌöå Ï∞∏Í∞Ä Ïã†Ï≤≠ ÎßàÍ∞ê"
            }
        ];

        // Global state for deadline display settings
        const deadlineDisplaySettings = {
            education: true,
            recruitment: true,
            important: true
        };

        // Toggle deadline display
        function toggleDeadlineDisplay(type) {
            // Update setting
            deadlineDisplaySettings[type] = !deadlineDisplaySettings[type];
            
            // Update toggle switch visual state
            const toggle = document.getElementById(`${type}Toggle`);
            toggle.classList.toggle('active');
            
            // Update calendar
            updateCalendarWithDeadlines();
            
            // Update event list
            updateEventListForView('month');
        }

        // Update calendar with deadline events - Fixed duplication issue
        function updateCalendarWithDeadlines() {
            // Clear existing deadline events from calendar
            document.querySelectorAll('.deadline-event').forEach(el => el.remove());
            
            // Add deadline events to calendar based on display settings
            mockDeadlines.forEach(deadline => {
                // Skip if this type is disabled
                if (!deadlineDisplaySettings[deadline.type]) {
                    return;
                }
                
                const deadlineDate = new Date(deadline.date);
                const day = deadlineDate.getDate();
                
                // Find calendar day with matching date
                const calendarDays = document.querySelectorAll('.calendar-day');
                calendarDays.forEach(dayElement => {
                    const dayNumber = dayElement.querySelector('.day-number');
                    if (dayNumber && parseInt(dayNumber.textContent) === day) {
                        // Check if this day already has an event bar container
                        let eventBarContainer = dayElement.querySelector('.event-bar-container');
                        
                        if (!eventBarContainer) {
                            // Create event bar container if it doesn't exist
                            eventBarContainer = document.createElement('div');
                            eventBarContainer.className = 'event-bar-container';
                            dayElement.appendChild(eventBarContainer);
                            dayElement.classList.add('has-event-bar');
                        }
                        
                        // Create deadline event bar
                        const eventBar = document.createElement('div');
                        eventBar.className = `event-bar deadline`;
                        eventBar.style.left = '0%';
                        eventBar.style.width = '100%';
                        eventBar.textContent = deadline.title;
                        eventBar.classList.add('deadline-event');
                        
                        // Add click handler
                        eventBar.addEventListener('click', function() {
                            showEventDetails(deadline.title, 'deadline');
                        });
                        
                        eventBarContainer.appendChild(eventBar);
                    }
                });
            });
        }
    </script>

    <script>
        // Calendar View Toggle
        function showCalendarView(view) {
            // Deactivate all view options and views
            document.querySelectorAll('.view-option').forEach(option => option.classList.remove('active'));
            document.getElementById('monthView').style.display = 'none';
            document.getElementById('weekView').style.display = 'none';
            document.getElementById('dayView').style.display = 'none';

            // Activate selected view
            event.target.classList.add('active');

            if (view === 'month') {
                document.getElementById('monthView').style.display = 'block';
                updateEventListForView('month');
            } else if (view === 'week') {
                document.getElementById('weekView').style.display = 'block';
                updateEventListForView('week');
                // Ï£ºÌÉ≠ Ìó§ÎçîÏóê Ïò§Îäò ÌëúÏãú
                markWeekdayToday();
                // Ï£ºÌÉ≠ Ï∫òÎ¶∞ÎçîÏóê ÎèôÏ†Å Îç∞Ïù¥ÌÑ∞ Î∞òÏòÅ
                renderWeekViewFromEvents();
            } else if (view === 'day') {
                document.getElementById('dayView').style.display = 'block';
                updateEventListForView('day');
                updateDayViewDate();
            }
        }

        // Toggle Switch
        function toggleSwitch(element) {
            element.classList.toggle('active');
        }

        // Add Event Modal
        function showAddEventModal() {
            document.getElementById('addEventModal').style.display = 'flex';
        }

        function hideAddEventModal() {
            document.getElementById('addEventModal').style.display = 'none';
        }

        function addEvent() {
            // In a real app, this would save the event to the database
            alert('ÏùºÏ†ïÏù¥ Ï∂îÍ∞ÄÎêòÏóàÏäµÎãàÎã§.');
            hideAddEventModal();
        }

        // Event Bar Interactions
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize today's date
            initializeTodayDate();

            // Add click handlers to event bars
            const eventBars = document.querySelectorAll('.event-bar');
            eventBars.forEach(bar => {
                bar.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const title = this.textContent;
                    const type = this.classList[1]; // Get event type (audit, education, consulting)
                    showEventDetails(title, type);
                });
            });

            // Add hover effects for better visibility
            const calendarDays = document.querySelectorAll('.calendar-day.has-event-bar');
            calendarDays.forEach(day => {
                day.addEventListener('mouseenter', function() {
                    const eventBars = this.querySelectorAll('.event-bar');
                    eventBars.forEach(bar => {
                        bar.style.transform = 'translateY(-1px)';
                        bar.style.zIndex = '20';
                    });
                });

                day.addEventListener('mouseleave', function() {
                    const eventBars = this.querySelectorAll('.event-bar');
                    eventBars.forEach(bar => {
                        bar.style.transform = 'translateY(0)';
                        bar.style.zIndex = '1';
                    });
                });
            });
        });

        // Initialize today's date in calendar
        function initializeTodayDate() {
            const today = new Date();
            const currentDay = today.getDate();
            const currentMonth = today.getMonth();
            const currentYear = today.getFullYear();

            // Update calendar title to show current month/year
            const monthNames = ['1Ïõî', '2Ïõî', '3Ïõî', '4Ïõî', '5Ïõî', '6Ïõî', '7Ïõî', '8Ïõî', '9Ïõî', '10Ïõî', '11Ïõî', '12Ïõî'];
            const calendarTitle = document.querySelector('.calendar-title');
            if (calendarTitle) {
                calendarTitle.textContent = `${currentYear}ÎÖÑ ${monthNames[currentMonth]}`;
            }

            // Find and highlight today's date
            const calendarDays = document.querySelectorAll('.calendar-day');
            calendarDays.forEach(day => {
                const dayNumber = day.querySelector('.day-number');
                if (dayNumber && parseInt(dayNumber.textContent) === currentDay) {
                    // Remove existing today class if any
                    day.classList.remove('today');

                    // Add today class to current day
                    if (!day.classList.contains('other-month')) {
                        day.classList.add('today');

                        // Removed: today indicator badge (month tab)
                    }
                }
            });

            // Initialize consolidated event list with month view
            updateEventListForView('month');

            // Initialize week view consolidation
            initializeWeekViewConsolidation();

            // Ï¥àÍ∏∞ Î°úÎìú ÏãúÏóêÎèÑ Ï£ºÌÉ≠ Ìó§ÎçîÏóê Ïò§Îäò ÌëúÏãú Ï†ÅÏö©
            markWeekdayToday();

            // Ï¥àÍ∏∞ Î°úÎìú Ïãú Ï£ºÌÉ≠ Ï∫òÎ¶∞ÎçîÏóê ÎèôÏ†Å Îç∞Ïù¥ÌÑ∞ Î∞òÏòÅ(Ï£ºÌÉ≠ Ï†ÑÌôò ÏãúÏóêÎèÑ Ïû¨Ï†ÅÏö©)
            renderWeekViewFromEvents();
            
            // Update calendar with deadlines
            updateCalendarWithDeadlines();
        }

        // Initialize week view consolidation
        function initializeWeekViewConsolidation() {
            // Add click handlers to multi-day events in week view
            const multiDayEvents = document.querySelectorAll('.week-event-multi-day');
            multiDayEvents.forEach(event => {
                event.addEventListener('click', function() {
                    const title = this.textContent.replace('(2ÏùºÍ∞Ñ)', '').trim();
                    // Get event type from CSS classes or data attributes
                    const typeClass = Array.from(this.classList).find(cls =>
                        cls === 'audit' || cls === 'education' || cls === 'consulting'
                    );
                    showEventDetails(title, typeClass || 'audit');
                });
            });

            // Add click handlers to regular week events
            const weekEvents = document.querySelectorAll('.week-event');
            weekEvents.forEach(event => {
                event.addEventListener('click', function() {
                    const title = this.textContent.trim();
                    // Get event type from CSS classes
                    const typeClass = Array.from(this.classList).find(cls =>
                        cls === 'audit' || cls === 'education' || cls === 'consulting'
                    );
                    showEventDetails(title, typeClass || 'audit');
                });
            });
        }

        // Show event details
        function showEventDetails(title, type) {
            // In a real app, this would show a modal or navigate to a details page
            let typeText = '';
            switch(type) {
                case 'audit':
                    typeText = 'Ïã¨ÏÇ¨';
                    break;
                case 'education':
                    typeText = 'ÍµêÏú°';
                    break;
                case 'consulting':
                    typeText = 'Ïª®ÏÑ§ÌåÖ';
                    break;
                case 'deadline':
                    typeText = 'ÎßàÍ∞êÏùºÏ†ï';
                    break;
                default:
                    typeText = 'ÏùºÎ∞ò';
            }
            
            alert(`${typeText} ÏùºÏ†ï: ${title}`);
        }

        // Update event list based on current view
        function updateEventListForView(view) {
            const eventListBody = document.getElementById('text-event-list-body');
            eventListBody.innerHTML = '';

            // Sample events for demonstration
            const events = [
                { title: 'ISMS-P Ïã¨ÏÇ¨', type: 'audit', date: '2Ïõî 15Ïùº-16Ïùº' },
                { title: 'ISMS-P ÍµêÏú°', type: 'education', date: '2Ïõî 22Ïùº' },
                { title: 'AÏùÄÌñâ Ïª®ÏÑ§ÌåÖ', type: 'consulting', date: '2Ïõî 25Ïùº-26Ïùº' },
                { title: 'ISO 27001 Ïã¨ÏÇ¨', type: 'audit', date: '2Ïõî 28Ïùº-29Ïùº' }
            ];

            // Add deadline events based on display settings
            mockDeadlines.forEach(deadline => {
                // Skip if this type is disabled
                if (!deadlineDisplaySettings[deadline.type]) {
                    return;
                }
                
                const deadlineDate = new Date(deadline.date);
                const formattedDate = `${deadlineDate.getMonth() + 1}Ïõî ${deadlineDate.getDate()}Ïùº`;
                events.push({
                    title: deadline.title,
                    type: 'deadline',
                    date: formattedDate
                });
            });

            // Sort events by date
            events.sort((a, b) => {
                const dateA = new Date(a.date.replace('Ïõî', '/').replace('Ïùº', ''));
                const dateB = new Date(b.date.replace('Ïõî', '/').replace('Ïùº', ''));
                return dateA - dateB;
            });

            // Create event items
            events.forEach(event => {
                const eventItem = document.createElement('div');
                eventItem.className = 'event-item';
                
                let typeClass = event.type;
                if (event.type === 'deadline') {
                    typeClass = 'deadline';
                }

                eventItem.innerHTML = `
                    <div class="event-color ${typeClass}"></div>
                    <div class="event-info">
                        <div class="event-title">${event.title}</div>
                        <div class="event-meta">${event.date}</div>
                    </div>
                `;

                eventListBody.appendChild(eventItem);
            });
        }

        // Mark today in week view header - Fixed to remove badge
        function markWeekdayToday() {
            const today = new Date();
            const todayDay = today.getDay(); // 0: Sun, 1: Mon, ... 6: Sat

            // Header highlighting
            const weekdayHeaders = Array.from(document.querySelectorAll('#weekView .calendar-day-header'));
            // Remove all first
            weekdayHeaders.forEach(header => header.classList.remove('is-today-col'));
            // Add to today's header (based on actual order in DOM)
            if (weekdayHeaders[todayDay]) {
                const targetHeader = weekdayHeaders[todayDay];
                targetHeader.classList.add('is-today-col');

                // Update the date pill for the header
                const existingDate = targetHeader.querySelector('.header-date');
                if (existingDate) existingDate.remove();
                const headerDate = document.createElement('span');
                headerDate.className = 'header-date today-date';
                headerDate.textContent = today.getDate();
                targetHeader.appendChild(headerDate);
            }

            // Body column highlighting ‚Äî align to header index to avoid off-by-one issues
            const todayHeaderIndex = weekdayHeaders.findIndex(h => h.classList.contains('is-today-col'));
            const weekDayColumns = Array.from(document.querySelectorAll('#weekView .week-day-column'));

            weekDayColumns.forEach((column, index) => {
                column.classList.remove('is-today-col');
                const colIndexInRow = index % 7; // each time row has 7 day columns
                if (colIndexInRow === todayHeaderIndex) {
                    column.classList.add('is-today-col');
                }
            });
        }

        // Update day view with today's date
        function updateDayViewDate() {
            const today = new Date();
            const todayDateElement = document.getElementById('todayDate');
            
            if (todayDateElement) {
                const monthNames = ['1Ïõî', '2Ïõî', '3Ïõî', '4Ïõî', '5Ïõî', '6Ïõî', '7Ïõî', '8Ïõî', '9Ïõî', '10Ïõî', '11Ïõî', '12Ïõî'];
                const dayNames = ['ÏùºÏöîÏùº', 'ÏõîÏöîÏùº', 'ÌôîÏöîÏùº', 'ÏàòÏöîÏùº', 'Î™©ÏöîÏùº', 'Í∏àÏöîÏùº', 'ÌÜ†ÏöîÏùº'];
                
                const formattedDate = `${today.getFullYear()}ÎÖÑ ${monthNames[today.getMonth()]} ${today.getDate()}Ïùº ${dayNames[today.getDay()]}`;
                todayDateElement.textContent = formattedDate;
            }
        }

        // Render week view from events data
        function renderWeekViewFromEvents() {
            // This function would dynamically render the week view based on events data
            // For now, it's a placeholder as the week view is already populated in HTML
            
            // In a real implementation, this would:
            // 1. Clear existing week events
            // 2. Get events for the current week
            // 3. Render them in the appropriate time slots and days
        }
    </script>

    <!-- Add Event Modal (Hidden by default) -->
    <div id="addEventModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ÏùºÏ†ï Ï∂îÍ∞Ä</h3>
                <button class="close-btn" onclick="hideAddEventModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">ÏùºÏ†ï Ïú†Ìòï</label>
                    <select class="form-control">
                        <option value="audit">Ïã¨ÏÇ¨ ÏùºÏ†ï</option>
                        <option value="education">ÍµêÏú° ÏùºÏ†ï</option>
                        <option value="consulting">Ïª®ÏÑ§ÌåÖ ÏùºÏ†ï</option>
                        <option value="deadline">ÎßàÍ∞ê ÏùºÏ†ï</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Ï†úÎ™©</label>
                    <input type="text" class="form-control" placeholder="ÏùºÏ†ï Ï†úÎ™©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">ÏãúÏûëÏùº</label>
                        <input type="date" class="form-control">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Ï¢ÖÎ£åÏùº</label>
                        <input type="date" class="form-control">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">ÏãúÏûëÏãúÍ∞Ñ</label>
                        <input type="time" class="form-control">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Ï¢ÖÎ£åÏãúÍ∞Ñ</label>
                        <input type="time" class="form-control">
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Ïû•ÏÜå</label>
                    <input type="text" class="form-control" placeholder="ÏùºÏ†ï Ïû•ÏÜåÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî">
                </div>
                <div class="form-group">
                    <label class="form-label">Î©îÎ™®</label>
                    <textarea class="form-control" rows="3" placeholder="Î©îÎ™®Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="hideAddEventModal()">Ï∑®ÏÜå</button>
                <button class="btn btn-primary" onclick="addEvent()">Ï∂îÍ∞Ä</button>
            </div>
        </div>
    </div>
</body>
</html>