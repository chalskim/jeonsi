<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê³µì§€ì‚¬í•­ ë° ë‰´ìŠ¤ ë“±ë¡ | CertMatch Admin</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* --- ê¸°ë³¸ í˜ì´ì§€ ìŠ¤íƒ€ì¼ --- */
        body {
            font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
            background-color: #f5f7fa;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
        }

        .admin-container {
            width: 100%;
            max-width: 700px;
            background-color: #ffffff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        .admin-header {
            text-align: center;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }

        .admin-header h1 {
            margin: 0;
            font-size: 24px;
            color: #333;
        }

        .admin-header p {
            margin: 5px 0 0;
            font-size: 14px;
            color: #666;
        }

        /* --- í¼ ìŠ¤íƒ€ì¼ --- */
        .notice-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 15px;
            color: #444;
        }

        .form-input,
        .form-textarea,
        .form-select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            box-sizing: border-box;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        .form-input:focus,
        .form-textarea:focus,
        .form-select:focus {
            border-color: #4a6fdc;
            box-shadow: 0 0 0 3px rgba(74, 111, 220, 0.1);
            outline: none;
        }

        .form-textarea {
            resize: vertical;
            min-height: 120px;
        }

        .form-row {
            display: flex;
            gap: 20px;
        }

        .form-row .form-group {
            flex: 1;
        }

        /* --- ë¼ë””ì˜¤ ë²„íŠ¼ ìŠ¤íƒ€ì¼ --- */
        .radio-group {
            display: flex;
            gap: 20px;
            font-size: 15px;
        }

        .radio-item {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .radio-item input[type="radio"] {
            margin-right: 8px;
            cursor: pointer;
        }

        /* --- ë¹„í™œì„±í™” í•„ë“œ ìŠ¤íƒ€ì¼ --- */
        .disabled-fieldset {
            opacity: 0.5;
            pointer-events: none; /* í´ë¦­ ë°©ì§€ */
        }

        .disabled-fieldset .form-input {
            background-color: #f5f5f5;
            cursor: not-allowed;
        }

        /* --- ì„ íƒê¸° ìŠ¤íƒ€ì¼ (ì•„ì´ì½˜, ì¸ì¦) --- */
        .selector-container {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .icon-option,
        .cert-chip {
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            border-radius: 8px;
            font-weight: 500;
        }

        /* ì•„ì´ì½˜ ì„ íƒê¸° */
        .icon-option {
            width: 50px;
            height: 50px;
            border: 2px solid #e0e0e0;
            font-size: 24px;
        }

        .icon-option:hover {
            transform: scale(1.1);
            border-color: #4a6fdc;
        }

        .icon-option.active {
            border-color: #4a6fdc;
            background-color: #f0f4ff;
            transform: scale(1.1);
        }

        /* ì¸ì¦ ì„ íƒê¸° */
        .cert-chip {
            padding: 8px 16px;
            background-color: #f0f0f0;
            color: #555;
            border: 1px solid #ddd;
            font-size: 14px;
        }

        .cert-chip:hover {
            background-color: #e8e8e8;
            border-color: #ccc;
        }

        .cert-chip.active {
            background-color: #4a6fdc;
            color: white;
            border-color: #4a6fdc;
        }

        /* --- ë²„íŠ¼ ìŠ¤íƒ€ì¼ --- */
        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 15px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        .btn {
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: background-color 0.3s, transform 0.2s;
        }

        .btn-primary {
            background-color: #4a6fdc;
            color: white;
        }

        .btn-primary:hover {
            background-color: #3a5ebd;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background-color: #f5f5f5;
            color: #555;
        }

        .btn-secondary:hover {
            background-color: #e8e8e8;
        }

    </style>
</head>
<body>

    <div class="admin-container">
        <div class="admin-header">
            <h1><i class="fas fa-bullhorn"></i> ê³µì§€ì‚¬í•­ ë° ë‰´ìŠ¤ ë“±ë¡</h1>
            <p>ìƒˆë¡œìš´ ê³µì§€ì‚¬í•­ì´ë‚˜ ë‰´ìŠ¤ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.</p>
        </div>

        <form id="noticeForm" class="notice-form">
            <div class="form-group">
                <label for="noticeTitle">ì œëª©</label>
                <input type="text" id="noticeTitle" class="form-input" placeholder="ê³µì§€ì‚¬í•­ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”" required>
            </div>

            <div class="form-group">
                <label for="noticeContent">ë‚´ìš©</label>
                <textarea id="noticeContent" class="form-textarea" placeholder="ê³µì§€ì‚¬í•­ ìƒì„¸ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”" required></textarea>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="noticeDate">ì‘ì„±ì¼ì</label>
                    <input type="date" id="noticeDate" class="form-input" required>
                </div>

                <div class="form-group">
                    <label for="noticeOrg">ê¸°ê´€/ì†ŒìŠ¤</label>
                    <input type="text" id="noticeOrg" class="form-input" placeholder="ì˜ˆ: ê³¼í•™ê¸°ìˆ ì •ë³´í†µì‹ ë¶€" required>
                </div>
            </div>

            <div class="form-group">
                <label for="noticeCategory">ë¶„ë¥˜</label>
                <select id="noticeCategory" class="form-select" required>
                    <option value="">ë¶„ë¥˜ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
                    <option value="ì¼ë°˜">ì¼ë°˜</option>
                    <option value="ì†ë³´">ì†ë³´</option>
                    <option value="ê¸´ê¸‰ê³µì§€">ê¸´ê¸‰ê³µì§€</option>
                    <option value="ì‚°ì—…ë‰´ìŠ¤">ì‚°ì—…ë‰´ìŠ¤</option>
                    <option value="ê¸€ë¡œë²Œ">ê¸€ë¡œë²Œ</option>
                    <option value="ì§€ì›ì‚¬ì—…">ì§€ì›ì‚¬ì—…</option>
                </select>
            </div>

            <div class="form-group">
                <label>ê´€ë ¨ ì¸ì¦ (ì¤‘ë³µ ì„ íƒ ê°€ëŠ¥)</label>
                <div class="selector-container cert-selector">
                    <div class="cert-chip" data-cert="ISMS-P">ISMS-P</div>
                    <div class="cert-chip" data-cert="ISO 27001">ISO 27001</div>
                    <div class="cert-chip" data-cert="GS ì¸ì¦">GS ì¸ì¦</div>
                    <div class="cert-chip" data-cert="CPPG">CPPG</div>
                    <div class="cert-chip" data-cert="ì •ë¶€ì§€ì›">ì •ë¶€ì§€ì›</div>
                    <div class="cert-chip" data-cert="ê¸°íƒ€">ê¸°íƒ€</div>
                </div>
            </div>

            <!-- [ì¶”ê°€ë¨] ë°œí–‰ ì„¤ì • -->
            <div class="form-group">
                <label>ë°œí–‰ ì„¤ì •</label>
                <div class="radio-group">
                    <label class="radio-item">
                        <input type="radio" name="publicationType" value="immediate" checked>
                        <span>ì¦‰ì‹œ ë°œí–‰</span>
                    </label>
                    <label class="radio-item">
                        <input type="radio" name="publicationType" value="scheduled">
                        <span>ì˜ˆì•½ ë°œí–‰</span>
                    </label>
                </div>
            </div>

            <!-- [ì¶”ê°€ë¨] ì˜ˆì•½ ë°œí–‰ í•„ë“œ -->
            <fieldset id="reservationFields" class="disabled-fieldset">
                <div class="form-row">
                    <div class="form-group">
                        <label for="reserveDate">ì˜ˆì•½ì¼ì</label>
                        <input type="date" id="reserveDate" class="form-input" disabled>
                    </div>
                    <div class="form-group">
                        <label for="reserveTime">ì˜ˆì•½ì‹œê°„</label>
                        <input type="time" id="reserveTime" class="form-input" disabled>
                    </div>
                </div>
            </fieldset>

            <div class="form-group">
                <label>ì•„ì´ì½˜ ì„ íƒ</label>
                <div class="selector-container icon-selector">
                    <div class="icon-option active" data-icon="ğŸ“°">ğŸ“°</div>
                    <div class="icon-option" data-icon="ğŸ“¢">ğŸ“¢</div>
                    <div class="icon-option" data-icon="ğŸ”¥">ğŸ”¥</div>
                    <div class="icon-option" data-icon="ğŸ“ˆ">ğŸ“ˆ</div>
                    <div class="icon-option" data-icon="ğŸ’°">ğŸ’°</div>
                    <div class="icon-option" data-icon="ğŸŒ">ğŸŒ</div>
                    <div class="icon-option" data-icon="ğŸ“‹">ğŸ“‹</div>
                    <div class="icon-option" data-icon="âš ï¸">âš ï¸</div>
                </div>
            </div>

            <div class="form-actions">
                <button type="button" class="btn btn-secondary" id="cancelBtn">ì·¨ì†Œ</button>
                <button type="submit" class="btn btn-primary">ë“±ë¡í•˜ê¸°</button>
            </div>
        </form>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const noticeForm = document.getElementById('noticeForm');
            const iconOptions = document.querySelectorAll('.icon-option');
            const certChips = document.querySelectorAll('.cert-chip');
            const cancelBtn = document.getElementById('cancelBtn');
            const publicationRadios = document.querySelectorAll('input[name="publicationType"]');
            const reservationFields = document.getElementById('reservationFields');
            const reserveDateInput = document.getElementById('reserveDate');
            const reserveTimeInput = document.getElementById('reserveTime');

            // ë°œí–‰ íƒ€ì…ì— ë”°ë¼ ì˜ˆì•½ í•„ë“œ í™œì„±í™”/ë¹„í™œì„±í™”
            publicationRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    if (this.value === 'scheduled') {
                        reservationFields.classList.remove('disabled-fieldset');
                        reserveDateInput.disabled = false;
                        reserveTimeInput.disabled = false;
                    } else {
                        reservationFields.classList.add('disabled-fieldset');
                        reserveDateInput.disabled = true;
                        reserveTimeInput.disabled = true;
                    }
                });
            });

            // í¼ ì œì¶œ ì‹œ ë™ì‘
            noticeForm.addEventListener('submit', function(e) {
                e.preventDefault();

                // ì„ íƒëœ ì¸ì¦ ëª©ë¡ ìˆ˜ì§‘
                const selectedCerts = [];
                certChips.forEach(chip => {
                    if (chip.classList.contains('active')) {
                        selectedCerts.push(chip.getAttribute('data-cert'));
                    }
                });

                // ë°œí–‰ ì •ë³´ ìˆ˜ì§‘
                const publicationType = document.querySelector('input[name="publicationType"]:checked').value;
                let publicationData = { type: publicationType };
                if (publicationType === 'scheduled') {
                    publicationData.date = reserveDateInput.value;
                    publicationData.time = reserveTimeInput.value;
                }

                // í¼ ë°ì´í„° ìˆ˜ì§‘
                const formData = {
                    title: document.getElementById('noticeTitle').value,
                    content: document.getElementById('noticeContent').value,
                    writtenDate: document.getElementById('noticeDate').value,
                    organization: document.getElementById('noticeOrg').value,
                    category: document.getElementById('noticeCategory').value,
                    certifications: selectedCerts,
                    publication: publicationData, // [ìˆ˜ì •ë¨] ë°œí–‰ ì •ë³´ ê°ì²´
                    icon: document.querySelector('.icon-option.active').getAttribute('data-icon')
                };
                
                console.log('ì„œë²„ë¡œ ì „ì†¡ë  ë°ì´í„°:', formData);

                // ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
                alert('ê³µì§€ì‚¬í•­ì´ ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!\n\n' + JSON.stringify(formData, null, 2));

                // í¼ ì´ˆê¸°í™”
                noticeForm.reset();
                // ì•„ì´ì½˜ ë° ì¸ì¦ ì„ íƒë„ ê¸°ë³¸ê°’ìœ¼ë¡œ ë¦¬ì…‹
                iconOptions.forEach(opt => opt.classList.remove('active'));
                document.querySelector('.icon-option[data-icon="ğŸ“°"]').classList.add('active');
                certChips.forEach(opt => opt.classList.remove('active'));
                // ì˜ˆì•½ í•„ë“œ ìƒíƒœ ë¦¬ì…‹
                reservationFields.classList.add('disabled-fieldset');
                reserveDateInput.disabled = true;
                reserveTimeInput.disabled = true;
            });

            // ì•„ì´ì½˜ ì„ íƒ ë™ì‘
            iconOptions.forEach(option => {
                option.addEventListener('click', function() {
                    iconOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // ì¸ì¦ ì¹© ì„ íƒ ë™ì‘
            certChips.forEach(chip => {
                chip.addEventListener('click', function() {
                    this.classList.toggle('active');
                });
            });

            // ì·¨ì†Œ ë²„íŠ¼ ë™ì‘
            cancelBtn.addEventListener('click', function() {
                if (confirm('ì •ë§ë¡œ ë“±ë¡ì„ ì·¨ì†Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì…ë ¥ëœ ë‚´ìš©ì€ ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.')) {
                    noticeForm.reset();
                    // ë¦¬ì…‹ ì‹œ ì„ íƒëœ ì¹©ê³¼ ì˜ˆì•½ í•„ë“œ ìƒíƒœë„ ëª¨ë‘ í•´ì œ
                    certChips.forEach(opt => opt.classList.remove('active'));
                    reservationFields.classList.add('disabled-fieldset');
                    reserveDateInput.disabled = true;
                    reserveTimeInput.disabled = true;
                }
            });
        });
    </script>

</body>
</html>