<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CertMatch - 인증 인력모집 목록</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            background-color: #f8f9fa;
        }
        
        .app-content {
            padding-bottom: 80px;
        }
        
        .container {
            padding: 20px;
        }
        
        .header-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .page-title {
            font-size: 24px;
            font-weight: bold;
            color: #333;
        }
        
        .btn-primary {
            background-color: #4a6fdc;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
        }
        
        .btn-primary i {
            margin-right: 5px;
        }
        
        /* 공고 목록 스타일 */
        .job-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .job-card {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: transform 0.2s;
        }
        
        .job-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        
        .job-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 10px;
        }
        
        .job-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }
        
        .job-company {
            font-size: 14px;
            color: #666;
        }
        
        .job-status {
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .status-active {
            background-color: #e7f5ff;
            color: #1c7ed6;
        }
        
        .status-closed {
            background-color: #fff5f5;
            color: #e03131;
        }
        
        .job-stats {
            display: flex;
            gap: 15px;
            margin: 10px 0;
            font-size: 14px;
            color: #666;
        }
        
        .job-stat {
            display: flex;
            align-items: center;
        }
        
        .job-stat i {
            margin-right: 5px;
            color: #4a6fdc;
        }
        
        .job-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }
        
        .job-date {
            font-size: 12px;
            color: #999;
        }
        
        .job-actions {
            display: flex;
            gap: 10px;
        }
        
        .btn-small {
            padding: 5px 10px;
            border: none;
            border-radius: 5px;
            font-size: 12px;
            cursor: pointer;
        }
        
        .btn-view {
            background-color: #4a6fdc;
            color: white;
        }
        
        .btn-edit {
            background-color: #f59f00;
            color: white;
        }
        
        .btn-delete {
            background-color: #e03131;
            color: white;
        }
        
        /* 공고 상세 및 지원자 목록 스타일 */
        .view-container {
            display: none;
        }
        
        .view-container.active {
            display: block;
        }
        
        .detail-header {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .detail-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .detail-meta {
            display: flex;
            gap: 20px;
            font-size: 14px;
            color: #666;
        }
        
        .detail-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .btn-action {
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            font-size: 14px;
            cursor: pointer;
            flex: 1;
        }
        
        .btn-close {
            background-color: #e03131;
            color: white;
        }
        
        .btn-repost {
            background-color: #51cf66;
            color: white;
        }
        
        /* 지원자 목록 스타일 */
        .applicant-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .applicant-card {
            background-color: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .applicant-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 20px;
        }
        
        .applicant-info {
            flex: 1;
        }
        
        .applicant-name {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .applicant-details {
            font-size: 14px;
            color: #666;
        }
        
        .applicant-status {
            margin-right: 10px;
        }
        
        .status-select {
            padding: 5px 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 12px;
        }
        
        /* 지원자 프로필 스타일 */
        .profile-header {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            text-align: center;
        }
        
        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            color: #999;
            font-size: 30px;
        }
        
        .profile-name {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .profile-title {
            font-size: 16px;
            color: #666;
            margin-bottom: 15px;
        }
        
        .profile-section {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .section-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
            display: flex;
            align-items: center;
        }
        
        .section-title i {
            margin-right: 8px;
            color: #4a6fdc;
        }
        
        .section-content {
            font-size: 14px;
            color: #666;
            line-height: 1.6;
        }
        
        .skill-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }
        
        .skill-tag {
            background-color: #e9ecef;
            color: #495057;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
        }
        
        /* 메시지 모달 스타일 */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            width: 90%;
            max-width: 400px;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .modal-title {
            font-size: 18px;
            font-weight: bold;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #999;
        }
        
        .modal-body {
            margin-bottom: 15px;
        }
        
        .form-control {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            box-sizing: border-box;
        }
        
        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        
        .btn-secondary {
            background-color: #e0e0e0;
            color: #333;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            font-size: 14px;
            cursor: pointer;
        }
        
        /* 토스트 알림 스타일 */
        .toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0,0,0,0.7);
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            display: none;
            z-index: 1001;
        }
        
        .toast.show {
            display: block;
        }
        
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #999;
        }
        
        .empty-state i {
            font-size: 48px;
            margin-bottom: 15px;
            color: #ddd;
        }
        /* Tab navigation (copied from 전문가 대시보드 mockup) */
        .tab-nav {
            display: flex;
            background-color: white;
            border-bottom: 1px solid #eee;
            overflow-x: auto;
            position: sticky;
            top: 60px;
            z-index: 10;
        }

        .tab-button {
            flex: 1;
            padding: 12px 10px;
            background: none;
            border: none;
            font-size: 14px;
            color: #666;
            cursor: pointer;
            white-space: nowrap;
            position: relative;
            transition: color 0.3s;
        }

        .tab-button.active {
            color: #4a6fdc;
            font-weight: bold;
        }

        .tab-button.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: #4a6fdc;
        }

        .tab-button i {
            display: block;
            font-size: 18px;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <!-- App Header -->
    <header class="app-header">
        <div class="header-icon" id="backButton">
            <i class="fas fa-arrow-left"></i>
        </div>
        <div class="app-title">인증 인력모집 지원 목록</div>
        <div class="header-icons">
            <div class="header-icon">
                <i class="fas fa-home" id="homeButton"></i>
            </div>
        </div>
    </header>
    <!-- Tab Navigation (added from 전문가 대시보드 mockup) -->
    <div class="tab-nav">
        <button class="tab-button active" data-view="jobListView">
            <i class="fas fa-th-large"></i>
            <span>공고 목록</span>
        </button>
        <button class="tab-button" data-view="jobDetailView">
            <i class="fas fa-users"></i>
            <span>지원자</span>
        </button>
        <button class="tab-button" data-view="applicantProfileView">
            <i class="fas fa-user-circle"></i>
            <span>프로필</span>
        </button>
    </div>
    
    <!-- App Content -->
    <div class="app-content">
        <!-- 공고 목록 뷰 -->
        <div class="view-container active" id="jobListView">
            <div class="container">
                <div class="header-actions">
                    <h1 class="page-title">내 공고 목록</h1>
                    <button class="btn-primary" id="newJobBtn">
                        <i class="fas fa-plus"></i>
                        <span>새 공고 등록</span>
                    </button>
                </div>
                
                <div class="job-list" id="jobList">
                    <!-- 공고 카드가 동적으로 추가됩니다 -->
                </div>
            </div>
        </div>
        
        <!-- 공고 상세 및 지원자 목록 뷰 -->
        <div class="view-container" id="jobDetailView">
            <div class="container">
                <div class="detail-header">
                    <h2 class="detail-title" id="jobDetailTitle">정보보호 담당자 (ISMS-P 경험 필수)</h2>
                    <div class="detail-meta">
                        <span><i class="fas fa-building"></i> ㈜테크솔루션</span>
                        <span><i class="fas fa-eye"></i> 조회수: 125</span>
                        <span><i class="fas fa-users"></i> 지원자: 8명</span>
                    </div>
                    <div class="detail-actions">
                        <button class="btn-action btn-close" id="closeJobBtn">공고 마감</button>
                        <button class="btn-action btn-repost" id="repostJobBtn">재공고</button>
                    </div>
                </div>
                
                <h3 style="margin-bottom: 15px;">지원자 목록</h3>
                <div class="applicant-list" id="applicantList">
                    <!-- 지원자 카드가 동적으로 추가됩니다 -->
                </div>
            </div>
        </div>
        
        <!-- 지원자 프로필 뷰 -->
        <div class="view-container" id="applicantProfileView">
            <div class="container">
                <div class="profile-header">
                    <div class="profile-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <h2 class="profile-name" id="applicantProfileName">김민수</h2>
                    <p class="profile-title" id="applicantProfileTitle">정보보호 컨설턴트 · 5년 경력</p>
                    <button class="btn-primary" id="messageBtn">
                        <i class="fas fa-envelope"></i>
                        <span>메시지 보내기</span>
                    </button>
                </div>
                
                <div class="profile-section">
                    <div class="section-title">
                        <i class="fas fa-user"></i>
                        <span>기본 정보</span>
                    </div>
                    <div class="section-content">
                        <p><strong>이메일:</strong> kimms@example.com</p>
                        <p><strong>연락처:</strong> 010-1234-5678</p>
                        <p><strong>거주지:</strong> 서울 강남구</p>
                    </div>
                </div>
                
                <div class="profile-section">
                    <div class="section-title">
                        <i class="fas fa-briefcase"></i>
                        <span>경력</span>
                    </div>
                    <div class="section-content">
                        <p><strong>㈜시큐리티파트너스 (2020.01 - 현재)</strong></p>
                        <p>ISMS-P 인증 컨설팅, 정보보호 관리체계 구축 및 운영</p>
                        <p><strong>㈜데이터시큐리티 (2018.03 - 2019.12)</strong></p>
                        <p>네트워크 보안 엔지니어, 방화벽 및 IDS/IPS 관리</p>
                    </div>
                </div>
                
                <div class="profile-section">
                    <div class="section-title">
                        <i class="fas fa-certificate"></i>
                        <span>자격증</span>
                    </div>
                    <div class="section-content">
                        <p>정보보호산업기사</p>
                        <p>리눅스마스터 2급</p>
                        <p>CCNA</p>
                    </div>
                </div>
                
                <div class="profile-section">
                    <div class="section-title">
                        <i class="fas fa-star"></i>
                        <span>기술 스택</span>
                    </div>
                    <div class="skill-tags">
                        <span class="skill-tag">ISMS-P</span>
                        <span class="skill-tag">ISO 27001</span>
                        <span class="skill-tag">네트워크 보안</span>
                        <span class="skill-tag">방화벽</span>
                        <span class="skill-tag">리눅스</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 메시지 모달 -->
    <div class="modal" id="messageModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">메시지 보내기</h3>
                <button class="modal-close" id="closeModalBtn">&times;</button>
            </div>
            <div class="modal-body">
                <textarea class="form-control" id="messageContent" rows="5" placeholder="메시지 내용을 입력하세요..."></textarea>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary" id="cancelMessageBtn">취소</button>
                <button class="btn-primary" id="sendMessageBtn">보내기</button>
            </div>
        </div>
    </div>
    
    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>
    
    <script>
        // Mock 데이터
        const mockJobPostings = [
            {
                id: 1,
                title: "정보보호 담당자 (ISMS-P 경험 필수)",
                company: "㈜테크솔루션",
                location: "서울 강남구",
                status: "active",
                views: 125,
                applicants: 8,
                deadline: "2025-03-15",
                postedDate: "2025-02-15"
            },
            {
                id: 2,
                title: "클라우드 보안 전문가 (AWS/Azure)",
                company: "㈜클라우드테크",
                location: "서울 서초구",
                status: "active",
                views: 98,
                applicants: 5,
                deadline: "2025-03-10",
                postedDate: "2025-02-10"
            },
            {
                id: 3,
                title: "개인정보보호 담당자 (PIMS 경험자)",
                company: "㈜핀테크코리아",
                location: "서울 여의도",
                status: "closed",
                views: 210,
                applicants: 12,
                deadline: "2025-02-28",
                postedDate: "2025-01-28"
            }
        ];
        
        const mockApplicants = [
            {
                id: 1,
                jobId: 1,
                name: "김민수",
                title: "정보보호 컨설턴트",
                experience: "5년",
                status: "reviewing",
                email: "kimms@example.com",
                phone: "010-1234-5678",
                location: "서울 강남구"
            },
            {
                id: 2,
                jobId: 1,
                name: "이지영",
                title: "정보보호 관리자",
                experience: "3년",
                status: "interview",
                email: "leejy@example.com",
                phone: "010-2345-6789",
                location: "경기 성남시"
            },
            {
                id: 3,
                jobId: 1,
                name: "박준호",
                title: "네트워크 보안 엔지니어",
                experience: "7년",
                status: "passed",
                email: "parkjh@example.com",
                phone: "010-3456-7890",
                location: "서울 서초구"
            }
        ];
        
        let currentJobId = null;
        let currentApplicantId = null;
        
        // 뷰 전환 함수
        function showView(viewId) {
            document.querySelectorAll('.view-container').forEach(view => {
                view.classList.remove('active');
            });
            document.getElementById(viewId).classList.add('active');
        }
        
        // 토스트 메시지 표시 함수
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
        
        // 공고 목록 렌더링
        function renderJobList() {
            const jobList = document.getElementById('jobList');
            
            if (mockJobPostings.length === 0) {
                jobList.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-briefcase"></i>
                        <p>등록된 공고가 없습니다.</p>
                        <button class="btn-primary" onclick="document.getElementById('newJobBtn').click()">
                            <i class="fas fa-plus"></i>
                            <span>첫 공고 등록하기</span>
                        </button>
                    </div>
                `;
                return;
            }
            
            jobList.innerHTML = mockJobPostings.map(job => `
                <div class="job-card" data-job-id="${job.id}">
                    <div class="job-card-header">
                        <div>
                            <div class="job-title">${job.title}</div>
                            <div class="job-company">${job.company} · ${job.location}</div>
                        </div>
                        <div class="job-status ${job.status === 'active' ? 'status-active' : 'status-closed'}">
                            ${job.status === 'active' ? '모집중' : '마감'}
                        </div>
                    </div>
                    <div class="job-stats">
                        <div class="job-stat">
                            <i class="fas fa-eye"></i>
                            <span>조회수: ${job.views}</span>
                        </div>
                        <div class="job-stat">
                            <i class="fas fa-users"></i>
                            <span>지원자: ${job.applicants}명</span>
                        </div>
                        <div class="job-stat">
                            <i class="fas fa-calendar"></i>
                            <span>마감: ${job.deadline}</span>
                        </div>
                    </div>
                    <div class="job-footer">
                        <div class="job-date">등록일: ${job.postedDate}</div>
                        <div class="job-actions">
                            <button class="btn-small btn-view" onclick="viewJobDetail(${job.id})">지원자 보기</button>
                            <button class="btn-small btn-edit" onclick="editJob(${job.id})">수정</button>
                            <button class="btn-small btn-delete" onclick="deleteJob(${job.id})">삭제</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        // 공고 상세 및 지원자 목록 렌더링
        function renderJobDetail(jobId) {
            const job = mockJobPostings.find(j => j.id === jobId);
            if (!job) return;
            
            currentJobId = jobId;
            
            // 공고 상세 정보 업데이트
            document.getElementById('jobDetailTitle').textContent = job.title;
            
            // 지원자 목록 렌더링
            const applicants = mockApplicants.filter(a => a.jobId === jobId);
            const applicantList = document.getElementById('applicantList');
            
            if (applicants.length === 0) {
                applicantList.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-users"></i>
                        <p>아직 지원자가 없습니다.</p>
                    </div>
                `;
                return;
            }
            
            applicantList.innerHTML = applicants.map(applicant => `
                <div class="applicant-card" onclick="viewApplicantProfile(${applicant.id})">
                    <div class="applicant-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="applicant-info">
                        <div class="applicant-name">${applicant.name}</div>
                        <div class="applicant-details">${applicant.title} · ${applicant.experience}</div>
                    </div>
                    <div class="applicant-status">
                        <select class="status-select" onchange="updateApplicantStatus(${applicant.id}, this.value)" onclick="event.stopPropagation()">
                            <option value="reviewing" ${applicant.status === 'reviewing' ? 'selected' : ''}>검토중</option>
                            <option value="interview" ${applicant.status === 'interview' ? 'selected' : ''}>면접예정</option>
                            <option value="passed" ${applicant.status === 'passed' ? 'selected' : ''}>합격</option>
                            <option value="failed" ${applicant.status === 'failed' ? 'selected' : ''}>불합격</option>
                        </select>
                    </div>
                </div>
            `).join('');
        }
        
        // 지원자 프로필 렌더링
        function viewApplicantProfile(applicantId) {
            const applicant = mockApplicants.find(a => a.id === applicantId);
            if (!applicant) return;
            
            currentApplicantId = applicantId;
            
            // 프로필 정보 업데이트
            document.getElementById('applicantProfileName').textContent = applicant.name;
            document.getElementById('applicantProfileTitle').textContent = `${applicant.title} · ${applicant.experience}`;
            
            // 뷰 전환
            showView('applicantProfileView');
        }
        
        // 지원자 상태 업데이트
        function updateApplicantStatus(applicantId, newStatus) {
            const applicant = mockApplicants.find(a => a.id === applicantId);
            if (applicant) {
                applicant.status = newStatus;
                showToast(`${applicant.name}님의 상태가 업데이트되었습니다.`);
            }
        }
        
        // 공고 상세 보기
        function viewJobDetail(jobId) {
            renderJobDetail(jobId);
            showView('jobDetailView');
        }
        
        // 공고 수정
        function editJob(jobId) {
            showToast('공고 수정 페이지로 이동합니다.');
            // 실제로는 수정 페이지로 이동
        }
        
        // 공고 삭제
        function deleteJob(jobId) {
            if (confirm('정말로 이 공고를 삭제하시겠습니까?')) {
                const index = mockJobPostings.findIndex(j => j.id === jobId);
                if (index > -1) {
                    mockJobPostings.splice(index, 1);
                    renderJobList();
                    showToast('공고가 삭제되었습니다.');
                }
            }
        }
        
        // 이벤트 리스너
        document.addEventListener('DOMContentLoaded', function() {
            // 초기 렌더링
            renderJobList();
            
            // 뒤로가기 버튼
            document.getElementById('backButton').addEventListener('click', function() {
                const activeView = document.querySelector('.view-container.active');
                if (activeView.id === 'applicantProfileView') {
                    showView('jobDetailView');
                } else if (activeView.id === 'jobDetailView') {
                    showView('jobListView');
                } else {
                    window.history.back();
                }
            });
            
            // 홈 버튼
            document.getElementById('homeButton').addEventListener('click', function() {
                window.location.href = 'apphome.html';
            });
            
            // 새 공고 등록 버튼
            document.getElementById('newJobBtn').addEventListener('click', function() {
                showToast('새 공고 등록 페이지로 이동합니다.');
                // 실제로는 등록 페이지로 이동
            });
            
            // 공고 마감 버튼
            document.getElementById('closeJobBtn').addEventListener('click', function() {
                if (confirm('정말로 이 공고를 마감하시겠습니까?')) {
                    const job = mockJobPostings.find(j => j.id === currentJobId);
                    if (job) {
                        job.status = 'closed';
                        renderJobList();
                        showView('jobListView');
                        showToast('공고가 마감되었습니다.');
                    }
                }
            });
            
            // 재공고 버튼
            document.getElementById('repostJobBtn').addEventListener('click', function() {
                if (confirm('이 공고를 재공고하시겠습니까?')) {
                    const job = mockJobPostings.find(j => j.id === currentJobId);
                    if (job) {
                        job.status = 'active';
                        // 마감일 연장
                        const deadline = new Date(job.deadline);
                        deadline.setMonth(deadline.getMonth() + 1);
                        job.deadline = deadline.toISOString().split('T')[0];
                        
                        renderJobList();
                        showView('jobListView');
                        showToast('공고가 재공고되었습니다.');
                    }
                }
            });
            
            // 메시지 버튼
            document.getElementById('messageBtn').addEventListener('click', function() {
                document.getElementById('messageModal').classList.add('active');
            });
            
            // 모달 닫기 버튼
            document.getElementById('closeModalBtn').addEventListener('click', function() {
                document.getElementById('messageModal').classList.remove('active');
            });
            
            // 메시지 취소 버튼
            document.getElementById('cancelMessageBtn').addEventListener('click', function() {
                document.getElementById('messageModal').classList.remove('active');
            });
            
            // 메시지 보내기 버튼
            document.getElementById('sendMessageBtn').addEventListener('click', function() {
                const messageContent = document.getElementById('messageContent').value;
                if (messageContent.trim()) {
                    showToast('메시지가 전송되었습니다.');
                    document.getElementById('messageContent').value = '';
                    document.getElementById('messageModal').classList.remove('active');
                } else {
                    showToast('메시지 내용을 입력해주세요.');
                }
            });

            // 탭 버튼 동작: tab-button[data-view] -> show corresponding view
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.addEventListener('click', function() {
                    // remove active from all tab buttons
                    document.querySelectorAll('.tab-button').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');

                    const viewId = this.dataset.view;
                    if (viewId) {
                        showView(viewId);
                    }
                });
            });
        });
    </script>
</body>
</html>